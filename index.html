<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PHENO&CO - Location de Fauteuil | Barbershop Montpellier</title>
  <meta name="description" content="R√©servez votre fauteuil chez PHENO&CO, barbershop √† Montpellier depuis 2009. Location courte ou longue dur√©e pour coiffeurs et barbiers ind√©pendants.">
  
  <!-- Open Graph -->
  <meta property="og:title" content="PHENO&CO - Location de Fauteuil">
  <meta property="og:description" content="R√©servez votre fauteuil chez PHENO&CO, barbershop √† Montpellier depuis 2009.">
  <meta property="og:type" content="website">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    :root {
      --primary: #F9C800;
      --primary-hover: #e0b400;
      --background: #0a0a0a;
      --card: #111111;
      --card-border: #222222;
      --foreground: #ffffff;
      --muted: #888888;
      --input-bg: #1a1a1a;
      --border: #333333;
      --success: #22c55e;
      --warning: #eab308;
      --danger: #ef4444;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'DM Sans', sans-serif;
      background-color: var(--background);
      color: var(--foreground);
      line-height: 1.6;
    }
    
    .font-serif {
      font-family: 'Playfair Display', serif;
    }
    
    /* Hero Section */
    .hero {
      background-color: #000;
      color: #fff;
      padding: 3rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .hero-content {
      max-width: 56rem;
      width: 100%;
    }
    
    .logo {
      width: 13rem;
      height: auto;
      margin-bottom: 0;
      opacity: 0.9;
      transition: opacity 0.3s;
    }
    
    .logo:hover {
      opacity: 1;
    }
    
    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: -0.02em;
      margin-top: 0;
    }
    
    .hero .subtitle {
      font-size: 0.875rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-weight: 500;
      margin-top: 0.25rem;
    }
    
    .hero-buttons {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      width: 100%;
      max-width: 48rem;
      margin: 2rem auto 0;
    }
    
    @media (min-width: 768px) {
      .hero-buttons {
        grid-template-columns: repeat(3, 1fr);
      }
      .hero h1 {
        font-size: 3rem;
      }
    }
    
    .btn {
      width: 100%;
      padding: 1rem 1.5rem;
      font-weight: 700;
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      text-decoration: none;
      transition: all 0.2s;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .btn:hover {
      transform: translateY(-2px);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn-primary {
      background-color: var(--primary);
      color: #000;
    }
    
    .btn-primary:hover {
      background-color: var(--primary-hover);
    }
    
    .btn-secondary {
      background-color: #111827;
      color: #fff;
      border: 1px solid #374151;
    }
    
    .btn-secondary:hover {
      background-color: #1f2937;
    }
    
    .btn-whatsapp {
      background-color: #25D366;
      color: #fff;
    }
    
    .btn-whatsapp:hover {
      background-color: #20bd5a;
    }
    
    /* Reservation Section */
    .reservation-section {
      padding: 3rem 1rem;
    }
    
    .container {
      max-width: 72rem;
      margin: 0 auto;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }
    
    .section-header h2 {
      font-size: 1.875rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .section-header p {
      color: var(--muted);
      max-width: 42rem;
      margin: 0 auto;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    
    @media (min-width: 1024px) {
      .form-grid {
        grid-template-columns: 7fr 5fr;
      }
    }
    
    .card {
      background-color: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
    
    @media (min-width: 768px) {
      .card {
        padding: 2rem;
      }
    }
    
    .card-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .card-header svg {
      width: 1.5rem;
      height: 1.5rem;
      color: var(--primary);
    }
    
    .card-header h3 {
      font-size: 1.25rem;
      font-weight: 600;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }
    
    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      background-color: var(--input-bg);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
      color: var(--foreground);
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.2s;
    }
    
    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(249, 200, 0, 0.2);
    }
    
    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23888888' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 1rem;
      padding-right: 2.5rem;
    }
    
    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    .form-input:disabled,
    .form-select:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
    
    @media (min-width: 768px) {
      .form-row {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    /* Radio Cards */
    .radio-cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    @media (min-width: 640px) {
      .radio-cards {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .radio-card {
      position: relative;
      cursor: pointer;
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      padding: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      transition: all 0.2s;
      background-color: var(--input-bg);
    }
    
    .radio-card:hover {
      border-color: rgba(249, 200, 0, 0.3);
    }
    
    .radio-card.selected {
      background-color: rgba(249, 200, 0, 0.1);
      border-color: rgba(249, 200, 0, 0.5);
      box-shadow: 0 0 0 1px rgba(249, 200, 0, 0.2);
    }
    
    .radio-card input[type="radio"] {
      margin-top: 0.25rem;
      accent-color: var(--primary);
      width: 1rem;
      height: 1rem;
    }
    
    .radio-card-content span {
      display: block;
    }
    
    .radio-card-content .title {
      font-weight: 600;
    }
    
    .radio-card-content .desc {
      font-size: 0.75rem;
      color: var(--muted);
      margin-top: 0.25rem;
      line-height: 1.4;
    }
    
    /* Info Box */
    .info-box {
      background-color: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      padding: 1rem;
      font-size: 0.875rem;
      color: var(--muted);
    }
    
    .info-box p {
      margin-bottom: 0.5rem;
    }
    
    .info-box p:last-child {
      margin-bottom: 0;
    }
    
    .info-box strong {
      color: var(--foreground);
    }
    
    .warning-box {
      background-color: rgba(234, 179, 8, 0.1);
      border: 1px solid rgba(234, 179, 8, 0.2);
      border-radius: 0.5rem;
      padding: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      color: #eab308;
      font-size: 0.875rem;
    }
    
    .warning-box svg {
      width: 1.25rem;
      height: 1.25rem;
      flex-shrink: 0;
      margin-top: 0.125rem;
    }
    
    .divider {
      border-top: 1px solid rgba(255,255,255,0.1);
      margin: 2rem 0;
    }
    
    /* Radio Buttons Inline */
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .radio-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    
    .radio-item input[type="radio"] {
      accent-color: var(--primary);
      width: 1rem;
      height: 1rem;
    }
    
    .radio-item span {
      font-size: 0.875rem;
    }
    
    /* Checkboxes */
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .checkbox-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 0.5rem;
      transition: background-color 0.2s;
    }
    
    .checkbox-item:hover {
      background-color: rgba(255,255,255,0.05);
    }
    
    .checkbox-item input[type="checkbox"] {
      accent-color: var(--primary);
      width: 1rem;
      height: 1rem;
      margin-top: 0.125rem;
    }
    
    .checkbox-item span {
      font-size: 0.875rem;
    }
    
    /* Engagement Box */
    .engagement-box {
      background-color: rgba(249, 200, 0, 0.05);
      border: 1px solid rgba(249, 200, 0, 0.1);
      border-radius: 0.75rem;
      padding: 1rem;
    }
    
    .engagement-box h4 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    
    .engagement-box h4 svg {
      width: 1rem;
      height: 1rem;
    }
    
    .engagement-box .checkbox-item {
      padding: 0.25rem 0;
    }
    
    .engagement-box a {
      color: var(--primary);
      text-decoration: underline;
    }
    
    .engagement-box a:hover {
      opacity: 0.8;
    }
    
    /* Summary */
    .summary {
      border-top: 1px solid rgba(255,255,255,0.1);
      padding-top: 1.5rem;
      margin-top: 2rem;
    }
    
    .summary h4 {
      font-size: 1.125rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .summary h4 svg {
      width: 1.25rem;
      height: 1.25rem;
      color: var(--primary);
    }
    
    .summary-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
    }
    
    .summary-row .label {
      color: var(--muted);
    }
    
    .summary-row .value {
      font-weight: 500;
      text-align: right;
    }
    
    .summary-divider {
      border-top: 1px solid rgba(255,255,255,0.1);
      margin: 0.75rem 0;
    }
    
    .summary-total {
      display: flex;
      justify-content: space-between;
      font-size: 1.125rem;
      font-weight: 700;
      color: var(--primary);
      padding-top: 0.5rem;
    }
    
    .summary-deposit {
      background-color: rgba(249, 200, 0, 0.1);
      border-radius: 0.5rem;
      padding: 0.75rem;
      margin-top: 1rem;
    }
    
    .summary-deposit .row {
      display: flex;
      justify-content: space-between;
      font-size: 0.875rem;
    }
    
    .summary-deposit .deposit {
      font-weight: 500;
      color: #22c55e;
    }
    
    .summary-deposit .remaining {
      font-size: 0.75rem;
      color: var(--muted);
      margin-top: 0.25rem;
    }
    
    /* Submit Button */
    .submit-btn {
      width: 100%;
      padding: 1rem 1.5rem;
      border-radius: 0.75rem;
      font-weight: 700;
      font-size: 1.125rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: all 0.2s;
      border: none;
      cursor: pointer;
      margin-top: 1.5rem;
      background-color: var(--primary);
      color: #000;
    }
    
    .submit-btn:hover:not(:disabled) {
      background-color: var(--primary-hover);
      transform: translateY(-2px);
    }
    
    .submit-btn:active:not(:disabled) {
      transform: translateY(0);
    }
    
    .submit-btn:disabled {
      background-color: #333;
      color: #666;
      cursor: not-allowed;
    }
    
    .submit-btn svg {
      width: 1.25rem;
      height: 1.25rem;
    }
    
    /* Success Message */
    .success-message {
      margin-top: 1.5rem;
      padding: 1rem;
      background-color: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-radius: 0.75rem;
      display: none;
    }
    
    .success-message.show {
      display: block;
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .success-message h4 {
      font-weight: 700;
      color: #22c55e;
      font-size: 1.125rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.5rem;
    }
    
    .success-message h4 svg {
      width: 1.25rem;
      height: 1.25rem;
    }
    
    .success-message p {
      font-size: 0.875rem;
      color: #d1d5db;
    }
    
    .success-message .warning {
      font-size: 0.75rem;
      color: #eab308;
      margin-top: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .success-message .warning svg {
      width: 0.75rem;
      height: 0.75rem;
    }
    
    /* About Section */
    .about-section {
      margin-top: 3rem;
    }
    
    .about-section .card-header span {
      font-size: 1.5rem;
    }
    
    .about-section p {
      color: var(--muted);
      margin-bottom: 1rem;
      line-height: 1.7;
    }
    
    .about-section p:first-of-type {
      font-weight: 500;
      color: var(--foreground);
    }
    
    .about-section p:last-child {
      color: var(--primary);
      font-weight: 700;
      padding-top: 0.5rem;
      margin-bottom: 0;
    }
    
    /* Footer */
    .footer {
      background-color: #000;
      padding: 2rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      text-align: center;
      color: var(--muted);
      font-size: 0.875rem;
    }
    
    .footer a {
      display: block;
      margin-top: 1rem;
      font-size: 0.75rem;
      color: var(--muted);
      opacity: 0.2;
      text-decoration: none;
      transition: opacity 0.2s;
    }
    
    .footer a:hover {
      opacity: 1;
    }
    
    /* Sticky Card */
    @media (min-width: 1024px) {
      .sticky-card {
        position: sticky;
        top: 2rem;
      }
    }
    
    /* Date Input Styling */
    input[type="date"]::-webkit-calendar-picker-indicator {
      background-color: var(--primary);
      padding: 0.25rem;
      border-radius: 0.25rem;
      cursor: pointer;
    }
    
    /* Section Title with Icon */
    .section-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .section-title svg {
      width: 1rem;
      height: 1rem;
    }
    
    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background-color: #1f2937;
      border: 1px solid #374151;
      border-radius: 0.5rem;
      padding: 1rem 1.5rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
      z-index: 1000;
      display: none;
      max-width: 24rem;
    }
    
    .toast.show {
      display: block;
      animation: slideIn 0.3s ease-out;
    }
    
    .toast.error {
      border-color: rgba(239, 68, 68, 0.5);
    }
    
    .toast h4 {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    
    .toast p {
      font-size: 0.875rem;
      color: var(--muted);
    }
    
    .toast.error h4 {
      color: #ef4444;
    }
  </style>
</head>
<body>
  
  <!-- HERO SECTION -->
  <section class="hero">
    <div class="hero-content">
      <img src="https://i.imgur.com/YOUR_LOGO.png" alt="PHENO&CO Logo" class="logo" id="logo">
      
      <div>
        <h1 class="font-serif">PHENO&CO</h1>
        <p class="subtitle">Barbershop depuis 2009</p>
      </div>
      
      <div class="hero-buttons">
        <button onclick="scrollToReservation()" class="btn btn-primary">
          <i data-lucide="calendar"></i>
          Louer un Fauteuil
        </button>
        
        <a href="https://phenoandco.com/" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
          <i data-lucide="scissors"></i>
          Prendre RDV Coiffure
        </a>
        
        <a href="https://wa.me/message/MZYDVEN32I55L1" target="_blank" rel="noopener noreferrer" class="btn btn-whatsapp">
          <i data-lucide="message-circle"></i>
          Contact WhatsApp
        </a>
      </div>
    </div>
  </section>
  
  <!-- RESERVATION SECTION -->
  <section id="reservation" class="reservation-section">
    <div class="container">
      
      <header class="section-header">
        <h2 class="font-serif">R√©server un fauteuil</h2>
        <p>Choisissez vos dates, votre formule et vos options.<br>Vous recevrez un r√©capitulatif et la r√©servation sera confirm√©e apr√®s paiement de l'acompte.</p>
      </header>
      
      <form id="reservationForm" class="form-grid">
        
        <!-- Left Column -->
        <div>
          <div class="card">
            
            <!-- Type de location -->
            <div class="card-header">
              <i data-lucide="clock"></i>
              <h3>Type de location</h3>
            </div>
            
            <div class="form-group">
              <label class="form-label">Dur√©e de location *</label>
              <div class="radio-cards">
                <label class="radio-card selected" id="card-courte">
                  <input type="radio" name="duree" value="courte" checked onchange="updateDuree()">
                  <div class="radio-card-content">
                    <span class="title">Courte dur√©e</span>
                    <span class="desc">Heure, journ√©e<br>Acompte 50%</span>
                  </div>
                </label>
                
                <label class="radio-card" id="card-longue">
                  <input type="radio" name="duree" value="longue" onchange="updateDuree()">
                  <div class="radio-card-content">
                    <span class="title">Semaine & Mensuel</span>
                    <span class="desc">Semaine ou Mois<br>Acompte 25%</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" id="formule-label">Formule courte *</label>
                <select id="formuleCourte" name="formuleCourte" class="form-select" onchange="updateFormule()">
                  <option value="heure">√Ä l'heure ‚Äî 10 ‚Ç¨ HT</option>
                  <option value="demi">Demi-journ√©e (4h) ‚Äî 35 ‚Ç¨ HT</option>
                  <option value="journee">Journ√©e ‚Äî 65 ‚Ç¨ HT</option>
                </select>
                <select id="formuleLongue" name="formuleLongue" class="form-select" style="display:none;" onchange="updateFormule()">
                  <option value="semaine">Semaine ‚Äî 60 ‚Ç¨ HT / jour</option>
                  <option value="mensuel">Mensuel ‚Äî 55 ‚Ç¨ HT / jour</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label">Pack Mat√©riel</label>
                <select id="packMateriel" name="packMateriel" class="form-select" onchange="calculatePrice()">
                  <option value="aucun">Aucun ‚Äî 0 ‚Ç¨</option>
                  <option value="essentiel">Pack Essentiel ‚Äî 20 ‚Ç¨ HT / jour</option>
                  <option value="premium">Pack Premium ‚Äî 30 ‚Ç¨ HT / jour</option>
                </select>
              </div>
            </div>
            
            <div class="info-box">
              <p><strong>Pack Essentiel :</strong> 20 ‚Ç¨ HT/jour (tondeuse, finition, serviettes, cape, poste √©quip√©).</p>
              <p><strong>Pack Premium :</strong> 30 ‚Ç¨ HT/jour (Essentiel + shaver + serviettes en plus).</p>
            </div>
            
            <div class="warning-box" style="margin-top: 1.5rem;">
              <i data-lucide="alert-circle"></i>
              <p>Les montants calcul√©s sont indicatifs. Le calcul final se fera au prorata selon la grille tarifaire lors de la confirmation.</p>
            </div>
            
            <div class="divider"></div>
            
            <!-- Dates & Horaires -->
            <div class="card-header">
              <i data-lucide="calendar"></i>
              <h3>Dates & Horaires</h3>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Date de d√©but *</label>
                <input type="date" id="dateDebut" name="dateDebut" class="form-input" required onchange="validateDate('dateDebut'); calculatePrice();">
              </div>
              
              <div class="form-group">
                <label class="form-label">Date de fin (optionnel)</label>
                <input type="date" id="dateFin" name="dateFin" class="form-input" onchange="validateDate('dateFin'); calculatePrice();">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Heure de d√©but *</label>
                <select id="heureDebut" name="heureDebut" class="form-select" required onchange="updateEndTime(); calculatePrice();">
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label">Heure de fin *</label>
                <select id="heureFin" name="heureFin" class="form-select" required onchange="calculatePrice();">
                </select>
              </div>
            </div>
            
          </div>
        </div>
        
        <!-- Right Column -->
        <div>
          <div class="card sticky-card">
            
            <div class="card-header">
              <i data-lucide="user"></i>
              <h3>Vos informations</h3>
            </div>
            
            <div class="form-group">
              <label class="form-label">Nom / pr√©nom *</label>
              <input type="text" id="nom" name="nom" class="form-input" placeholder="Votre nom" required>
            </div>
            
            <div class="form-group">
              <label class="form-label">Email *</label>
              <input type="email" id="email" name="email" class="form-input" placeholder="votre@email.com" required>
            </div>
            
            <div class="form-group">
              <label class="form-label">T√©l√©phone / WhatsApp *</label>
              <input type="tel" id="telephone" name="telephone" class="form-input" placeholder="06 00 00 00 00" required>
            </div>
            
            <div class="divider" style="margin: 1rem 0;"></div>
            
            <!-- Profil Professionnel -->
            <div class="section-title">
              Profil Professionnel
            </div>
            
            <div class="form-group">
              <label class="form-label">Statut *</label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="statut" value="auto" checked>
                  <span>Auto-entrepreneur / Micro</span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="statut" value="societe">
                  <span>Soci√©t√©</span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="statut" value="creation">
                  <span>En cours de cr√©ation</span>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Exp√©rience *</label>
              <select id="experience" name="experience" class="form-select">
                <option value="0-3">0‚Äì3 ans</option>
                <option value="3-5">3‚Äì5 ans</option>
                <option value="5-10">5‚Äì10 ans</option>
                <option value="10+">10+ ans</option>
              </select>
            </div>
            
            <div class="divider" style="margin: 1rem 0;"></div>
            
            <!-- Sp√©cialit√©s -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
              <div class="section-title" style="margin-bottom: 0;">Comp√©tences & Sp√©cialit√©s</div>
              <span style="font-size: 0.75rem; color: var(--muted);">(Plusieurs choix possibles)</span>
            </div>
            
            <div class="checkbox-group">
              <label class="checkbox-item">
                <input type="checkbox" name="specialites" value="Coiffeur mixte (H/F)">
                <span>Coiffeur mixte (H/F)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="specialites" value="Barbier">
                <span>Barbier</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="specialites" value="Sp√©cialit√© afro (tresses, locks, vanilles, etc.)">
                <span>Sp√©cialit√© afro (tresses, locks, vanilles, etc.)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="specialites" value="Coloriste (m√®ches, balayage, d√©co)">
                <span>Coloriste (m√®ches, balayage, d√©co)</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="specialites" value="Design & finitions (contours, dessins, rasage, etc.)">
                <span>Design & finitions (contours, dessins, rasage, etc.)</span>
              </label>
            </div>
            
            <div class="divider" style="margin: 1rem 0;"></div>
            
            <!-- Engagement -->
            <div class="engagement-box">
              <h4>
                <i data-lucide="check"></i>
                Engagement
              </h4>
              
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" name="certif_3ans" id="certif_3ans">
                  <span>Je certifie avoir au moins 3 ans d'exp√©rience.</span>
                </label>
                
                <label class="checkbox-item">
                  <input type="checkbox" name="certif_diplome" id="certif_diplome">
                  <span>Je poss√®de un dipl√¥me reconnu (CAP / BP ou √©quivalent).</span>
                </label>
                
                <label class="checkbox-item">
                  <input type="checkbox" name="certif_docs" id="certif_docs" required>
                  <span>Je m'engage √† fournir les documents justificatifs avant le d√©but de la location.</span>
                </label>
                
                <label class="checkbox-item">
                  <input type="checkbox" name="cgv" id="cgv" required>
                  <span>J'ai lu et j'accepte les <a href="cgv-location.html" target="_blank">CGV & Contrat de location PHENO&CO</a>.</span>
                </label>
              </div>
            </div>
            
            <div class="form-group" style="margin-top: 1.5rem;">
              <label class="form-label">Commentaire (optionnel)</label>
              <textarea id="commentaire" name="commentaire" class="form-textarea" placeholder="Pr√©cisez par exemple vos jours de pr√©sence souhait√©s‚Ä¶"></textarea>
            </div>
            
            <!-- Summary -->
            <div class="summary">
              <h4>
                <i data-lucide="info"></i>
                R√©capitulatif (indicatif)
              </h4>
              
              <div class="summary-row">
                <span class="label">Formule</span>
                <span class="value" id="summary-formule">√Ä l'heure ‚Äî 10 ‚Ç¨ HT</span>
              </div>
              
              <div class="summary-row">
                <span class="label">Dur√©e</span>
                <span class="value" id="summary-duree">1.0h / jour sur 1 jours ouvr√©s</span>
              </div>
              
              <div class="summary-row" id="summary-pack-row" style="display: none;">
                <span class="label">Pack Mat√©riel</span>
                <span class="value" id="summary-pack">Aucun</span>
              </div>
              
              <div class="summary-divider"></div>
              
              <div class="summary-row">
                <span class="label">Total HT</span>
                <span class="value" id="summary-ht">10.00 ‚Ç¨</span>
              </div>
              
              <div class="summary-row">
                <span class="label">TVA (20%)</span>
                <span class="value" id="summary-tva">2.00 ‚Ç¨</span>
              </div>
              
              <div class="summary-total">
                <span>TOTAL TTC</span>
                <span id="summary-ttc">12.00 ‚Ç¨</span>
              </div>
              
              <div class="summary-deposit">
                <div class="row deposit">
                  <span>Acompte √† r√©gler (<span id="acompte-taux">50</span>%)</span>
                  <span id="summary-acompte">6.00 ‚Ç¨</span>
                </div>
                <div class="row remaining">
                  <span>Solde restant</span>
                  <span id="summary-solde">6.00 ‚Ç¨</span>
                </div>
              </div>
            </div>
            
            <button type="submit" class="submit-btn" id="submitBtn">
              Envoyer ma demande
              <i data-lucide="arrow-right"></i>
            </button>
            
            <div class="success-message" id="successMessage">
              <h4>
                <i data-lucide="check"></i>
                Demande envoy√©e
              </h4>
              <p>Votre demande a √©t√© envoy√©e.<br>Un r√©capitulatif vous a √©t√© transmis par WhatsApp / email.</p>
              <div class="warning" id="emailWarning" style="display: none;">
                <i data-lucide="alert-circle"></i>
                Note: L'email n'a pas pu √™tre envoy√©, mais WhatsApp a fonctionn√©.
              </div>
            </div>
            
          </div>
        </div>
        
      </form>
      
      <!-- About Section -->
      <div class="about-section">
        <div class="card">
          <div class="card-header">
            <span>‚ú®</span>
            <h3>√Ä propos</h3>
          </div>
          
          <p>PHENO&CO, plus qu'un salon : un espace fond√© sur le respect, la bienveillance et l'exigence.</p>
          <p>On partage l'√©nergie et la passion du m√©tier. Chaque coiffeur arrive avec son histoire, son style et son talent, contribuant √† maintenir une ambiance conviviale et familiale.</p>
          <p>Que vous soyez de passage ou en longue collaboration, l'essentiel reste le m√™me : passion, s√©rieux et bonne vibe.</p>
          <p>√Ä bient√¥t.</p>
        </div>
      </div>
      
    </div>
  </section>
  
  <!-- FOOTER -->
  <footer class="footer">
    <p>PHENO&CO ‚Äî Barbershop & Coworking ‚Ä¢ Montpellier</p>
    <a href="admin.html">Admin</a>
  </footer>
  
  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <h4 id="toast-title">Notification</h4>
    <p id="toast-message">Message</p>
  </div>
  
  <script>
    // Initialize EmailJS
    emailjs.init("uBxESnC6CTyqiNyS6");
    
    // Initialize Lucide icons
    lucide.createIcons();
    
    // Time slots
    const TIME_SLOTS = [];
    for (let h = 10; h <= 18; h++) {
      TIME_SLOTS.push(`${h.toString().padStart(2, '0')}:00`);
      if (h < 18) TIME_SLOTS.push(`${h.toString().padStart(2, '0')}:30`);
    }
    
    // Set minimum date to tomorrow
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    const tomorrowStr = tomorrow.toISOString().split('T')[0];
    
    document.getElementById('dateDebut').min = tomorrowStr;
    document.getElementById('dateDebut').value = tomorrowStr;
    document.getElementById('dateFin').min = tomorrowStr;
    
    // Populate time selects
    function populateTimeSelects() {
      const heureDebut = document.getElementById('heureDebut');
      const heureFin = document.getElementById('heureFin');
      
      heureDebut.innerHTML = '';
      heureFin.innerHTML = '';
      
      TIME_SLOTS.forEach(time => {
        heureDebut.innerHTML += `<option value="${time}">${time}</option>`;
        heureFin.innerHTML += `<option value="${time}">${time}</option>`;
      });
      
      heureDebut.value = '10:00';
      heureFin.value = '11:00';
    }
    
    populateTimeSelects();
    
    // Scroll to reservation
    function scrollToReservation() {
      document.getElementById('reservation').scrollIntoView({ behavior: 'smooth' });
    }
    
    // Update duration type
    function updateDuree() {
      const duree = document.querySelector('input[name="duree"]:checked').value;
      const cardCourte = document.getElementById('card-courte');
      const cardLongue = document.getElementById('card-longue');
      const formuleCourte = document.getElementById('formuleCourte');
      const formuleLongue = document.getElementById('formuleLongue');
      const formuleLabel = document.getElementById('formule-label');
      
      if (duree === 'courte') {
        cardCourte.classList.add('selected');
        cardLongue.classList.remove('selected');
        formuleCourte.style.display = 'block';
        formuleLongue.style.display = 'none';
        formuleLabel.textContent = 'Formule courte *';
      } else {
        cardCourte.classList.remove('selected');
        cardLongue.classList.add('selected');
        formuleCourte.style.display = 'none';
        formuleLongue.style.display = 'block';
        formuleLabel.textContent = 'Formule longue *';
      }
      
      updateFormule();
    }
    
    // Update formule and time constraints
    function updateFormule() {
      const duree = document.querySelector('input[name="duree"]:checked').value;
      const heureDebut = document.getElementById('heureDebut');
      const heureFin = document.getElementById('heureFin');
      
      if (duree === 'courte') {
        const formule = document.getElementById('formuleCourte').value;
        
        if (formule === 'journee') {
          heureDebut.value = '10:00';
          heureFin.value = '18:00';
          heureDebut.disabled = true;
          heureFin.disabled = true;
        } else if (formule === 'demi') {
          heureDebut.disabled = false;
          heureFin.disabled = true;
          updateEndTime();
        } else {
          heureDebut.disabled = false;
          heureFin.disabled = false;
        }
      } else {
        heureDebut.disabled = false;
        heureFin.disabled = false;
      }
      
      calculatePrice();
    }
    
    // Update end time for half-day
    function updateEndTime() {
      const duree = document.querySelector('input[name="duree"]:checked').value;
      const formule = document.getElementById('formuleCourte').value;
      
      if (duree === 'courte' && formule === 'demi') {
        const startTime = document.getElementById('heureDebut').value;
        const [h, m] = startTime.split(':').map(Number);
        let endH = h + 4;
        if (endH > 18) endH = 18;
        const endTime = `${endH.toString().padStart(2, '0')}:${m === 30 ? '30' : '00'}`;
        document.getElementById('heureFin').value = endTime;
      }
      
      calculatePrice();
    }
    
    // Validate date (no Sunday/Monday)
    function validateDate(fieldId) {
      const input = document.getElementById(fieldId);
      const date = new Date(input.value);
      const day = date.getDay();
      
      if (day === 0 || day === 1) {
        showToast('Jour de fermeture', 'Le salon est ferm√© le dimanche et le lundi. Merci de choisir une autre date.', true);
        input.value = '';
      }
      
      // Update dateFin min
      if (fieldId === 'dateDebut' && input.value) {
        document.getElementById('dateFin').min = input.value;
      }
    }
    
    // Count business days (exclude Sunday and Monday)
    function countBusinessDays(startDate, endDate) {
      let count = 0;
      const current = new Date(startDate);
      current.setHours(0, 0, 0, 0);
      const end = new Date(endDate);
      end.setHours(0, 0, 0, 0);
      
      while (current <= end) {
        const day = current.getDay();
        if (day !== 0 && day !== 1) {
          count++;
        }
        current.setDate(current.getDate() + 1);
      }
      
      return Math.max(1, count);
    }
    
    // Calculate price
    function calculatePrice() {
      const duree = document.querySelector('input[name="duree"]:checked').value;
      const packMateriel = document.getElementById('packMateriel').value;
      const dateDebut = document.getElementById('dateDebut').value;
      const dateFin = document.getElementById('dateFin').value || dateDebut;
      const heureDebut = document.getElementById('heureDebut').value;
      const heureFin = document.getElementById('heureFin').value;
      
      if (!dateDebut) return;
      
      const startDate = new Date(dateDebut);
      const endDate = new Date(dateFin);
      const businessDays = countBusinessDays(startDate, endDate);
      
      let baseHT = 0;
      let formuleLabel = '';
      let durationDetails = '';
      
      if (duree === 'courte') {
        const formule = document.getElementById('formuleCourte').value;
        
        if (formule === 'heure') {
          const [h1, m1] = heureDebut.split(':').map(Number);
          const [h2, m2] = heureFin.split(':').map(Number);
          const minutes = (h2 * 60 + m2) - (h1 * 60 + m1);
          const hours = Math.max(0, minutes / 60);
          baseHT = hours * 10 * businessDays;
          formuleLabel = '√Ä l\'heure ‚Äî 10 ‚Ç¨ HT';
          durationDetails = `${hours.toFixed(1)}h / jour sur ${businessDays} jours ouvr√©s`;
        } else if (formule === 'demi') {
          baseHT = 35 * businessDays;
          formuleLabel = 'Demi-journ√©e (4h) ‚Äî 35 ‚Ç¨ HT';
          durationDetails = `Demi-journ√©e (4h) x ${businessDays} jours ouvr√©s`;
        } else if (formule === 'journee') {
          baseHT = 65 * businessDays;
          formuleLabel = 'Journ√©e ‚Äî 65 ‚Ç¨ HT';
          durationDetails = `${businessDays} jours ouvr√©s`;
        }
      } else {
        const formule = document.getElementById('formuleLongue').value;
        
        if (formule === 'semaine') {
          baseHT = 60 * businessDays;
          formuleLabel = 'Semaine ‚Äî 60 ‚Ç¨ HT / jour';
          durationDetails = `${businessDays} jours ouvr√©s (Tarif Semaine)`;
        } else if (formule === 'mensuel') {
          baseHT = 55 * businessDays;
          formuleLabel = 'Mensuel ‚Äî 55 ‚Ç¨ HT / jour';
          durationDetails = `${businessDays} jours ouvr√©s (Tarif Mensuel)`;
        }
      }
      
      // Pack
      let packHT = 0;
      let packLabel = 'Aucun ‚Äî 0 ‚Ç¨';
      if (packMateriel === 'essentiel') {
        packHT = 20 * businessDays;
        packLabel = 'Pack Essentiel ‚Äî 20 ‚Ç¨ HT / jour';
      } else if (packMateriel === 'premium') {
        packHT = 30 * businessDays;
        packLabel = 'Pack Premium ‚Äî 30 ‚Ç¨ HT / jour';
      }
      
      const totalHT = baseHT + packHT;
      const tva = totalHT * 0.2;
      const totalTTC = totalHT + tva;
      const acompteTaux = duree === 'courte' ? 0.5 : 0.25;
      const acompteTTC = totalTTC * acompteTaux;
      const soldeTTC = totalTTC - acompteTTC;
      
      // Update UI
      document.getElementById('summary-formule').textContent = formuleLabel;
      document.getElementById('summary-duree').textContent = durationDetails;
      
      const packRow = document.getElementById('summary-pack-row');
      if (packMateriel !== 'aucun') {
        packRow.style.display = 'flex';
        document.getElementById('summary-pack').textContent = packLabel;
      } else {
        packRow.style.display = 'none';
      }
      
      document.getElementById('summary-ht').textContent = totalHT.toFixed(2) + ' ‚Ç¨';
      document.getElementById('summary-tva').textContent = tva.toFixed(2) + ' ‚Ç¨';
      document.getElementById('summary-ttc').textContent = totalTTC.toFixed(2) + ' ‚Ç¨';
      document.getElementById('acompte-taux').textContent = (acompteTaux * 100).toFixed(0);
      document.getElementById('summary-acompte').textContent = acompteTTC.toFixed(2) + ' ‚Ç¨';
      document.getElementById('summary-solde').textContent = soldeTTC.toFixed(2) + ' ‚Ç¨';
      
      // Store for later use
      window.priceInfo = {
        baseHT, packHT, totalHT, tva, totalTTC, acompteTaux, acompteTTC, soldeTTC,
        formuleLabel, packLabel, durationDetails, businessDays
      };
    }
    
    // Show toast notification
    function showToast(title, message, isError = false) {
      const toast = document.getElementById('toast');
      const toastTitle = document.getElementById('toast-title');
      const toastMessage = document.getElementById('toast-message');
      
      toastTitle.textContent = title;
      toastMessage.textContent = message;
      
      toast.classList.remove('error');
      if (isError) toast.classList.add('error');
      
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 5000);
    }
    
    // Get Google Calendar link
    function getGoogleCalendarLink(title, details, startDate, endDate, startTime, endTime) {
      const start = new Date(`${startDate}T${startTime}:00`);
      const end = new Date(`${endDate || startDate}T${endTime}:00`);
      
      const formatTime = (date) => {
        return date.toISOString().replace(/-|:|\.\d\d\d/g, '').substring(0, 15) + 'Z';
      };
      
      const url = new URL('https://www.google.com/calendar/render');
      url.searchParams.append('action', 'TEMPLATE');
      url.searchParams.append('text', title);
      url.searchParams.append('details', details);
      url.searchParams.append('dates', `${formatTime(start)}/${formatTime(end)}`);
      url.searchParams.append('location', 'PHENO&CO, Montpellier');
      
      return url.toString();
    }
    
    // Get status label
    function getStatutLabel(value) {
      const labels = {
        'auto': 'Auto-entrepreneur / Micro-entreprise',
        'societe': 'Soci√©t√©',
        'creation': 'En cours de cr√©ation'
      };
      return labels[value] || value;
    }
    
    // Get experience label
    function getExperienceLabel(value) {
      const labels = {
        '0-3': '0 √† 3 ans d\'exp√©rience',
        '3-5': '3 √† 5 ans d\'exp√©rience',
        '5-10': '5 √† 10 ans d\'exp√©rience',
        '10+': 'Plus de 10 ans d\'exp√©rience'
      };
      return labels[value] || value;
    }
    
    // Form submission
    document.getElementById('reservationForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const cgv = document.getElementById('cgv').checked;
      const certifDocs = document.getElementById('certif_docs').checked;
      
      if (!cgv || !certifDocs) {
        showToast('Champs requis', 'Veuillez accepter les CGV et vous engager √† fournir les documents.', true);
        return;
      }
      
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = true;
      submitBtn.innerHTML = 'Envoi en cours...';
      
      // Gather form data
      const nom = document.getElementById('nom').value;
      const email = document.getElementById('email').value;
      const telephone = document.getElementById('telephone').value;
      const dateDebut = document.getElementById('dateDebut').value;
      const dateFin = document.getElementById('dateFin').value || dateDebut;
      const heureDebut = document.getElementById('heureDebut').value;
      const heureFin = document.getElementById('heureFin').value;
      const duree = document.querySelector('input[name="duree"]:checked').value;
      const statut = document.querySelector('input[name="statut"]:checked').value;
      const experience = document.getElementById('experience').value;
      const commentaire = document.getElementById('commentaire').value;
      const certif3ans = document.getElementById('certif_3ans').checked;
      const certifDiplome = document.getElementById('certif_diplome').checked;
      
      // Get specialties
      const specialitesCheckboxes = document.querySelectorAll('input[name="specialites"]:checked');
      const specialites = Array.from(specialitesCheckboxes).map(cb => cb.value);
      
      const priceInfo = window.priceInfo || { totalTTC: 0, acompteTTC: 0, acompteTaux: 0.5, formuleLabel: '', packLabel: 'Aucun' };
      
      const baseUrl = window.location.origin;
      const cgvUrl = `${baseUrl}/cgv-location.html`;
      
      // Google Calendar link
      const calendarLink = getGoogleCalendarLink(
        'Location Fauteuil - PHENO&CO',
        `R√©servation de fauteuil.\nFormule: ${priceInfo.formuleLabel}\nPack: ${priceInfo.packLabel}\nTotal TTC: ${priceInfo.totalTTC.toFixed(2)}‚Ç¨`,
        dateDebut,
        dateFin,
        heureDebut,
        heureFin
      );
      
      // WhatsApp message
      const whatsappMessage = `
Bonjour ${nom},

Merci pour votre demande de location de fauteuil chez PHENO&CO.

Voici votre r√©capitulatif :
‚Äì Profil : ${getStatutLabel(statut)}, ${getExperienceLabel(experience)}
‚Äì Sp√©cialit√©s : ${specialites.join(", ") || "Non pr√©cis√©"}
‚Äì Formule : ${priceInfo.formuleLabel}
‚Äì Dates : ${dateDebut} ‚Üí ${dateFin}
‚Äì Montant total : ${priceInfo.totalTTC.toFixed(2)} ‚Ç¨ TTC
‚Äì Acompte √† r√©gler : ${priceInfo.acompteTTC.toFixed(2)} ‚Ç¨ TTC (${(priceInfo.acompteTaux * 100).toFixed(0)}% ${duree === 'courte' ? 'courte dur√©e' : 'longue dur√©e'})

Pour valider votre r√©servation, merci de nous envoyer :
‚Äì une pi√®ce d'identit√©
‚Äì votre CAP/BP (ou √©quivalent)
‚Äì votre justificatif d'activit√© (SIREN/URSSAF)
‚Äì votre attestation d'assurance RC Pro (si vous la poss√©dez d√©j√†)

üìß Documents √† envoyer : location.phenoandco@gmail.com

D√®s que vos documents sont valid√©s, nous vous transmettons votre lien de paiement d'acompte et bloquons votre cr√©neau d√©finitivement.

Nous restons disponibles si vous avez des questions.
PHENO&CO

üìÑ CGV & Contrat : ${cgvUrl}

üìÖ AJOUTER √Ä VOTRE AGENDA GOOGLE :
${calendarLink}
      `.trim();
      
      const whatsappUrl = `https://wa.me/33769432605?text=${encodeURIComponent(whatsappMessage)}`;
      
      // Open WhatsApp first
      window.open(whatsappUrl, '_blank');
      
      // Email template params
      const summaryText = `
R√âCAPITULATIF DE LA DEMANDE

--- CLIENT ---
Nom : ${nom}
Email : ${email}
T√©l√©phone : ${telephone}

--- PROFIL PROFESSIONNEL ---
Statut : ${getStatutLabel(statut)}
Exp√©rience : ${getExperienceLabel(experience)}
Comp√©tences & Sp√©cialit√©s : ${specialites.join(", ") || "Aucune"}

--- ENGAGEMENTS ---
3 ans d'exp√©rience : ${certif3ans ? "Oui" : "Non"}
Dipl√¥me (CAP/BP) : ${certifDiplome ? "Oui" : "Non"}
Documents justificatifs : Oui
CGV & Contrat accept√©s : Oui
Lien CGV & Contrat : ${cgvUrl}

--- P√âRIODE ---
Dates : Du ${dateDebut} au ${dateFin}
Horaires : De ${heureDebut} √† ${heureFin}
Dur√©e : ${priceInfo.durationDetails}

--- FORMULE ---
Type : ${duree === 'courte' ? 'Courte dur√©e' : 'Longue dur√©e'}
Formule : ${priceInfo.formuleLabel}
Pack Mat√©riel : ${priceInfo.packLabel}

--- TARIFS (Estimatif) ---
Base HT : ${priceInfo.baseHT.toFixed(2)} ‚Ç¨
Pack HT : ${priceInfo.packHT.toFixed(2)} ‚Ç¨
Total HT : ${priceInfo.totalHT.toFixed(2)} ‚Ç¨
TVA (20%) : ${priceInfo.tva.toFixed(2)} ‚Ç¨
TOTAL TTC : ${priceInfo.totalTTC.toFixed(2)} ‚Ç¨

--- PAIEMENT ---
Acompte √† r√©gler : ${priceInfo.acompteTTC.toFixed(2)} ‚Ç¨
Solde restant : ${priceInfo.soldeTTC.toFixed(2)} ‚Ç¨

--- COMMENTAIRE ---
${commentaire || 'Aucun'}

===================================
üìÖ AJOUTER √Ä MON AGENDA
${calendarLink}
===================================
      `.trim();
      
      const templateParams = {
        name: nom,
        message: summaryText,
        title: "Nouvelle R√©servation Fauteuil",
        to_name: nom,
        to_email: email,
        manager_email: "location.phenoandco@gmail.com",
        statut: getStatutLabel(statut),
        experience: getExperienceLabel(experience),
        specialites: specialites.join(", "),
        date_debut: dateDebut,
        date_fin: dateFin,
        heure_debut: heureDebut,
        heure_fin: heureFin,
        duree_details: priceInfo.durationDetails,
        type_location: duree === 'courte' ? 'Courte dur√©e' : 'Longue dur√©e',
        formule_label: priceInfo.formuleLabel,
        pack_label: priceInfo.packLabel,
        total_ht: priceInfo.totalHT.toFixed(2),
        tva: priceInfo.tva.toFixed(2),
        total_ttc: priceInfo.totalTTC.toFixed(2),
        acompte_taux: (priceInfo.acompteTaux * 100).toFixed(0),
        acompte_ttc: priceInfo.acompteTTC.toFixed(2),
        solde_ttc: priceInfo.soldeTTC.toFixed(2),
        telephone: telephone,
        commentaire: commentaire || "Aucun",
        calendar_link: calendarLink
      };
      
      let emailError = false;
      
      try {
        // Send emails
        await Promise.all([
          emailjs.send('service_llizndy', 'template_m6uvyuq', { ...templateParams, to_email: "location.phenoandco@gmail.com", to_name: "Manager PHENO&CO" }),
          emailjs.send('service_llizndy', 'template_m6uvyuq', { ...templateParams, to_email: email, to_name: nom })
        ]);
      } catch (error) {
        console.error('Email error:', error);
        emailError = true;
      }
      
      // Show success
      submitBtn.innerHTML = '<svg class="lucide" width="24" height="24"><use href="#check"/></svg> Demande Envoy√©e !';
      
      const successMessage = document.getElementById('successMessage');
      successMessage.classList.add('show');
      
      if (emailError) {
        document.getElementById('emailWarning').style.display = 'flex';
      }
      
      // Reset after 3 seconds
      setTimeout(() => {
        successMessage.classList.remove('show');
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'Envoyer ma demande <i data-lucide="arrow-right"></i>';
        lucide.createIcons();
        document.getElementById('reservationForm').reset();
        
        // Reset UI
        document.getElementById('card-courte').classList.add('selected');
        document.getElementById('card-longue').classList.remove('selected');
        document.getElementById('formuleCourte').style.display = 'block';
        document.getElementById('formuleLongue').style.display = 'none';
        document.getElementById('formule-label').textContent = 'Formule courte *';
        document.getElementById('heureDebut').disabled = false;
        document.getElementById('heureFin').disabled = false;
        
        document.getElementById('dateDebut').value = tomorrowStr;
        document.getElementById('heureDebut').value = '10:00';
        document.getElementById('heureFin').value = '11:00';
        
        calculatePrice();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 3000);
    });
    
    // Initial calculation
    calculatePrice();
  </script>
  
</body>
</html>
