<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PHENO&CO â€” RÃ©servation de fauteuil</title>
  <meta name="color-scheme" content="dark light">
  <style>
    :root{
      --bg:#0b0b0b; --card:#111; --line:#1f1f1f;
      --fg:#f7f7f7; --muted:#bdbdbd;
      --yellow:#ffd400; --grey:#2d3138; --green:#25D366; --focus:#8ab4f8;
      --radius:20px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .wrap{max-width:980px;margin:0 auto;padding:28px 18px 64px}
    header{text-align:center;margin-bottom:8px}
    img.logo{width:260px;max-width:50vw;height:auto;border-radius:12px}
    h1{margin:8px 0 6px;font-size:40px;color:var(--yellow)}
    .sub{margin:0 0 26px;color:var(--muted);text-align:center}
    .grid{display:grid;gap:14px;margin:0 auto 28px;grid-template-columns:1fr}
    @media(min-width:720px){.grid{grid-template-columns:repeat(3,1fr)}}
    .btn{display:block;padding:18px 20px;border-radius:var(--radius);text-decoration:none;font-weight:800;text-align:center;line-height:1.2;box-shadow:0 1px 0 rgba(255,255,255,.06) inset,0 12px 28px rgba(0,0,0,.35);transition:.15s}
    .btn:focus-visible{outline:3px solid var(--focus);outline-offset:2px}
    .btn:active{transform:translateY(1px)}
    .btn-yellow{background:var(--yellow);color:#000}
    .btn-grey{background:var(--grey);color:#fff;border:2px solid #464b54}
    .btn-green{background:var(--green);color:#000}
    section.card{background:var(--card);border:1px solid var(--line);border-radius:24px;padding:22px;margin-top:36px}
    h2{margin:0 0 10px;color:var(--yellow)}
    p.lead{margin:8px 0 18px;color:var(--muted)}
    label{display:block;margin:10px 0 6px}
    input,select,textarea{width:100%;padding:12px;border-radius:12px;border:1px solid #2a2a2a;background:#121212;color:#fff;font-size:16px}
    input[type="date"]{padding:10px 12px;cursor:pointer}
    select{cursor:pointer}
    textarea{min-height:96px;resize:vertical}
    .row{display:grid;gap:12px}
    @media(min-width:680px){.row{grid-template-columns:1fr 1fr}}
    .actions{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}
    .btn-submit,.btn-reset{flex:1;min-width:160px;padding:14px 16px;border-radius:14px;border:none;font-weight:800;cursor:pointer}
    .btn-submit{background:var(--yellow);color:#000}
    .btn-reset{background:var(--grey);color:#fff}
    .summary{border-top:1px dashed #2b2b2b;margin-top:16px;padding-top:12px;color:#e6e6e6}
    .summary small{color:var(--muted)}
    ul.packs{list-style:none;padding:0;margin:0;display:grid;gap:8px}
    ul.packs li{display:flex;align-items:center;gap:10px}
    .note{color:#9aa0a6;font-size:12px}
    footer{margin-top:40px;color:#999;text-align:center;font-size:12px}
    /* Modal CGV */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:18px}
    .modal .box{max-width:900px;width:100%;background:#0f0f0f;border:1px solid #222;border-radius:18px;padding:18px;max-height:85vh;overflow:auto}
    .modal .box h3{margin:0 0 10px;color:var(--yellow)}
    .close{display:inline-block;margin-top:10px;padding:10px 14px;background:#222;border:1px solid #333;border-radius:10px;color:#fff;text-decoration:none}
    .contract h4{margin:14px 0 8px}
    .contract p, .contract li{color:#ddd}
    .contract ul{margin:0 0 8px 18px}
    @media(prefers-reduced-motion:reduce){html{scroll-behavior:auto}.btn{transition:none}}
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <!-- Le logo sâ€™affichera si tu as tÃ©lÃ©versÃ© logo.png -->
      <img class="logo" src="logo.png" alt="Logo PHENO&CO" onerror="this.style.display='none'">
      <h1>PHENO&CO</h1>
      <p class="sub">Barbershop â€¢ Depuis 2009 â€¢ 18 Rue d'Alger, 34000 Montpellier</p>
    </header>

    <!-- 3 gros boutons -->
    <div class="grid" role="navigation" aria-label="Actions principales">
      <a class="btn btn-yellow" href="#fauteuil">RÃ©server Fauteuil ðŸ’º</a>
      <a class="btn btn-grey" href="https://phenoandco.com" target="_blank" rel="noopener">Prendre RDV Coiffure ðŸ’ˆ</a>
      <a class="btn btn-green" href="https://wa.me/33769432605?text=Bonjour%20PHENO%26CO%20!" target="_blank" rel="noopener">Contact WhatsApp</a>
    </div>

    <!-- Formulaire -->
    <section id="fauteuil" class="card" aria-labelledby="title-fauteuil">
      <h2 id="title-fauteuil">RÃ©server un fauteuil</h2>
      <p class="lead">Choisis tes dates, ton heure dâ€™arrivÃ©e (10:00â€“18:00), le nombre dâ€™heures/jour, la formule, et les packs optionnels. Le total sâ€™affiche (HT, TVA 20%, TTC, acompte 50%).</p>

      <form id="chairForm" autocomplete="on" novalidate>
        <!-- IdentitÃ© -->
        <div class="row">
          <div>
            <label for="f-name">Nom et prÃ©nom</label>
            <input id="f-name" name="name" required autocomplete="name" placeholder="Ex. Jean Dupont" />
          </div>
          <div>
            <label for="f-phone">TÃ©lÃ©phone</label>
            <input id="f-phone" name="phone" required inputmode="tel" autocomplete="tel" placeholder="Ex. 06 12 34 56 78" />
          </div>
        </div>

        <!-- PÃ©riode -->
        <div class="row">
          <div>
            <label for="f-start-date">Date de dÃ©but</label>
            <input id="f-start-date" type="date" name="startDate" required />
          </div>
          <div>
            <label for="f-start-time">Heure dâ€™arrivÃ©e</label>
            <select id="f-start-time" name="startTime" required></select>
            <div class="note">Ouverture du salon : 10:00 â†’ 18:00</div>
          </div>
        </div>
        <div class="row">
          <div>
            <label for="f-end-date">Date de fin</label>
            <input id="f-end-date" type="date" name="endDate" required />
          </div>
          <div>
            <label for="f-hours-per-day">Heures par jour</label>
            <select id="f-hours-per-day" name="hoursPerDay" required></select>
            <div class="note">Ex. 4h = 10:00 â†’ 14:00</div>
          </div>
        </div>

        <!-- Formule (prix affichÃ©s) -->
        <label>Formule</label>
        <div class="row" style="align-items:center">
          <label><input type="radio" name="formula" value="hour" required> Horaire â€” <b id="label-hour">â€¦</b></label>
          <label><input type="radio" name="formula" value="halfday"> Demi-journÃ©e (4h) â€” <b id="label-half">â€¦</b></label>
          <label><input type="radio" name="formula" value="fullday"> JournÃ©e (8h) â€” <b id="label-day">â€¦</b></label>
          <label><input type="radio" name="formula" value="week"> Semaine (40h) â€” <b id="label-week">â€¦</b></label>
        </div>

        <!-- Packs matÃ©riel -->
        <label>Packs matÃ©riel (optionnel)</label>
        <ul class="packs" id="packsList"></ul>

        <!-- Note -->
        <label for="f-note">Message (optionnel)</label>
        <textarea id="f-note" name="note" placeholder="Ex. Poste miroir 2, stÃ©rilisateur, horaires 10hâ€“14hâ€¦"></textarea>

        <!-- CGV -->
        <label style="display:flex;align-items:center;gap:8px;margin-top:14px">
          <input type="checkbox" id="f-cgv" required>
          <span>Jâ€™ai lu et jâ€™accepte les <a href="#" id="openCgv" style="color:#8ab4f8">CGV & contrat</a> personnalisÃ©s.</span>
        </label>

        <!-- RÃ©sumÃ© -->
        <div class="summary" id="summary">
          <div><small>PÃ©riode :</small> <span id="sum-period">â€”</span></div>
          <div><small>Jours comptÃ©s :</small> <span id="sum-days">0</span></div>
          <div><small>Heures/jour :</small> <span id="sum-hpd">0</span></div>
          <div><small>DurÃ©e totale :</small> <span id="sum-hours">0 h</span></div>
          <div><small>Base HT :</small> <span id="sum-base">0 â‚¬</span></div>
          <div><small>Packs HT :</small> <span id="sum-packs">0 â‚¬</span></div>
          <div><small>Total HT :</small> <span id="sum-ht">0 â‚¬</span></div>
          <div><small>TVA (20%) :</small> <span id="sum-tva">0 â‚¬</span></div>
          <div><b>Total TTC :</b> <span id="sum-ttc">0 â‚¬</span></div>
          <div><small>Acompte 50% :</small> <span id="sum-deposit">0 â‚¬</span></div>
        </div>

        <!-- Actions -->
        <div class="actions">
          <button class="btn-submit" type="submit">Confirmer & envoyer (WhatsApp)</button>
          <button class="btn-reset" type="reset">Effacer</button>
          <a id="emailLink" class="btn btn-grey" href="#" target="_blank" rel="noopener">Envoyer aussi par e-mail</a>
        </div>
        <p id="helper" class="lead" style="display:none;margin-top:10px;">Ouverture de WhatsAppâ€¦ (si rien ne sâ€™ouvre, vÃ©rifie le bloqueur de fenÃªtres). Un brouillon dâ€™email est aussi prÃªt.</p>
      </form>

      <!-- CGV Modal (avec rÃ©cap dynamique) -->
      <div class="modal" id="cgvModal" aria-hidden="true">
        <div class="box" role="dialog" aria-modal="true" aria-labelledby="cgvTitle">
          <h3 id="cgvTitle">CGV & Contrat â€” PHENO&CO</h3>

          <div class="contract">
            <h4>RÃ©capitulatif personnalisÃ©</h4>
            <ul>
              <li><b>PÃ©riode :</b> <span id="c_sum-period">â€”</span></li>
              <li><b>Heures/jour :</b> <span id="c_sum-hpd">â€”</span></li>
              <li><b>Formule :</b> <span id="c_sum-formula">â€”</span></li>
              <li><b>Packs HT :</b> <span id="c_sum-packs">â€”</span></li>
              <li><b>Total HT :</b> <span id="c_sum-ht">â€”</span></li>
              <li><b>TVA 20% :</b> <span id="c_sum-tva">â€”</span></li>
              <li><b>Total TTC :</b> <span id="c_sum-ttc">â€”</span></li>
              <li><b>Acompte 50% :</b> <span id="c_sum-deposit">â€”</span></li>
            </ul>

            <h4>Engagements du salon</h4>
            <ul>
              <li>Mettre Ã  disposition un poste propre et fonctionnel aux horaires convenus (10:00â€“18:00).</li>
              <li>Respecter les normes dâ€™hygiÃ¨ne et de sÃ©curitÃ© applicables.</li>
              <li>Informer le locataire de toute indisponibilitÃ© exceptionnelle.</li>
            </ul>

            <h4>ResponsabilitÃ©s du locataire</h4>
            <ul>
              <li>Respecter les horaires rÃ©servÃ©s et lâ€™hygiÃ¨ne du poste.</li>
              <li>Utiliser le matÃ©riel avec soin ; dÃ©clarer immÃ©diatement tout dommage.</li>
              <li>Respecter la confidentialitÃ© des clients et la tranquillitÃ© du salon.</li>
            </ul>

            <h4>MatÃ©riel & Caution</h4>
            <p>Des packs matÃ©riels optionnels peuvent Ãªtre louÃ©s. Une caution peut Ãªtre demandÃ©e selon la valeur du matÃ©riel choisi.</p>

            <h4>Acompte & Paiement</h4>
            <p>Un acompte de 50% du TTC est exigÃ© Ã  la confirmation (lien sÃ©curisÃ© envoyÃ© par PHENO&CO). Le solde est dÃ» Ã  lâ€™arrivÃ©e au salon.</p>

            <h4>Annulation</h4>
            <p>Conditions et dÃ©lais dâ€™annulation Ã  prÃ©ciser dans la version contractuelle complÃ¨te communiquÃ©e lors de la confirmation.</p>

            <h4>Dispositions diverses</h4>
            <p>PHENO&CO peut refuser/annuler une rÃ©servation en cas de non-paiement de lâ€™acompte, non-respect des rÃ¨gles ou force majeure.</p>
          </div>

          <a href="#" class="close" id="closeCgv">Fermer</a>
        </div>
      </div>
    </section>

    <footer>Â© PHENO&CO â€” Tous droits rÃ©servÃ©s</footer>
  </main>

  <script>
    /* ===== CONFIG ===== */
    const PHONE = '33769432605';                 // âœ… ton WhatsApp
    const EMAIL = 'location.phenoandco@gmail.com';
    const OPEN_HOUR = 10;                        // 10h
    const CLOSE_HOUR = 18;                       // 18h
    const HOURLY_HT = 10;                        // â‚¬ HT / heure
    const TVA_RATE = 0.20;
    const FORMULAE = {
      hour:    { label: 'Horaire',        unitHours: 1 },
      halfday: { label: 'Demi-journÃ©e',   unitHours: 4 },
      fullday: { label: 'JournÃ©e',        unitHours: 8 },
      week:    { label: 'Semaine',        unitHours: 40 }
    };
    const PACKS = [
      { id:'tondeuse',  label:'Pack Tondeuse Pro', priceHt:5 },
      { id:'produits',  label:'Pack Produits',     priceHt:8 },
      { id:'serviettes',label:'Pack Serviettes',   priceHt:4 },
    ];

    /* ===== Helpers ===== */
    const â‚¬ = new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR'});
    const id = s => document.getElementById(s);
    const q  = (s,root=document)=>root.querySelector(s);
    const qa = (s,root=document)=>Array.from(root.querySelectorAll(s));
    const clamp = (v,min,max)=>Math.max(min,Math.min(max,v));
    function parseDate(d){ if(!d) return null; const [y,m,day]=d.split('-').map(Number); return new Date(y,m-1,day); }
    function daysBetweenInclusive(sd, ed){
      if(!sd || !ed) return 0;
      const msDay = 86400000;
      const a = new Date(sd.getFullYear(), sd.getMonth(), sd.getDate());
      const b = new Date(ed.getFullYear(), ed.getMonth(), ed.getDate());
      return Math.floor((b - a)/msDay) + 1;
    }
    function sumPacks(){ return qa('input[name="packs"]:checked').reduce((s,el)=>s+Number(el.value),0); }
    function selectedFormula(){ const f = q('input[name="formula"]:checked'); return f?f.value:null; }

    /* ===== Init : heures & heures/jour (listes dÃ©roulantes) ===== */
    (function initTimeSelectors(){
      const sel = id('f-start-time');
      for(let h=OPEN_HOUR; h<=CLOSE_HOUR; h++){
        for(let m of [0,30]){
          const label = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
          if(h === CLOSE_HOUR && m > 0) continue; // pas 18:30
          const opt = document.createElement('option');
          opt.value = label; opt.textContent = label;
          sel.appendChild(opt);
        }
      }
      sel.value = `${String(OPEN_HOUR).padStart(2,'0')}:00`;

      const hpd = id('f-hours-per-day');
      for(let v=0.5; v<=8; v+=0.5){
        const opt = document.createElement('option');
        opt.value = v.toFixed(1); opt.textContent = v.toString().replace('.',',') + ' h';
        hpd.appendChild(opt);
      }
      hpd.value = '4.0';
    })();

    /* ===== Init : dates (calendriers + min=aujourdâ€™hui) ===== */
    (function initDates(){
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth()+1).padStart(2,'0');
      const dd = String(today.getDate()).padStart(2,'0');
      const s = `${yyyy}-${mm}-${dd}`;
      id('f-start-date').value = s;
      id('f-end-date').value = s;
      id('f-start-date').min = s;
      id('f-end-date').min = s;
    })();

    /* ===== Formules (affiche les prix immÃ©diatement) ===== */
    id('label-hour').textContent = `${â‚¬.format(HOURLY_HT)} / h HT`;
    id('label-half').textContent = `4h = ${â‚¬.format(4*HOURLY_HT)} HT`;
    id('label-day').textContent  = `8h = ${â‚¬.format(8*HOURLY_HT)} HT`;
    id('label-week').textContent = `40h = ${â‚¬.format(40*HOURLY_HT)} HT`;
    q('input[name="formula"][value="hour"]').checked = true; // par dÃ©faut

    /* ===== Packs ===== */
    const packsList = id('packsList');
    PACKS.forEach(p=>{
      const li = document.createElement('li');
      li.innerHTML = `<label style="cursor:pointer"><input type="checkbox" name="packs" value="${p.priceHt}"> ${p.label} â€” <span style="opacity:.8">${â‚¬.format(p.priceHt)} HT</span></label>`;
      packsList.appendChild(li);
    });

    /* ===== Calcul en direct ===== */
    const watchIds = ['f-start-date','f-end-date','f-start-time','f-hours-per-day','f-note','f-name','f-phone'];
    watchIds.forEach(x=>id(x).addEventListener('input', updateAll));
    qa('input[name="formula"]').forEach(r=>r.addEventListener('change', updateAll));
    qa('input[name="packs"]').forEach(c=>c.addEventListener('change', updateAll));

    function compute(){
      const sd = parseDate(id('f-start-date').value);
      const ed = parseDate(id('f-end-date').value);
      const st = id('f-start-time').value;
      const hpd = clamp(parseFloat(id('f-hours-per-day').value||'0'), 0.5, 8);
      const days = daysBetweenInclusive(sd, ed);
      const f = selectedFormula();

      // Total demandÃ© = jours Ã— heures/jour
      const totalRequestedHours = (days>0 ? days : 0) * hpd;

      // Prix de base selon formule (arrondi par blocs pour 1/2 journÃ©e, journÃ©e, semaine)
      let baseHours = 0;
      if(f){
        const unit = {hour:1, halfday:4, fullday:8, week:40}[f];
        baseHours = (f==='hour') ? totalRequestedHours : Math.ceil(totalRequestedHours/unit)*unit;
      }
      const baseHt = baseHours * HOURLY_HT;
      const packsHt = sumPacks();
      const totalHt = Math.max(0, baseHt + packsHt);
      const tva = totalHt * TVA_RATE;
      const ttc = totalHt + tva;
      const deposit = ttc * 0.5;

      return {sd, ed, st, hpd, days, totalRequestedHours, f, baseHt, packsHt, totalHt, tva, ttc, deposit};
    }

    function updateSummary(c){
      id('sum-period').textContent = (c.sd && c.ed) ? `${id('f-start-date').value} â†’ ${id('f-end-date').value} (arrivÃ©e ${c.st||'â€”'})` : 'â€”';
      id('sum-days').textContent   = c.days;
      id('sum-hpd').textContent    = c.hpd.toString().replace('.',',');
      id('sum-hours').textContent  = `${c.totalRequestedHours.toLocaleString('fr-FR')} h`;
      id('sum-base').textContent   = â‚¬.format(c.baseHt);
      id('sum-packs').textContent  = â‚¬.format(c.packsHt);
      id('sum-ht').textContent     = â‚¬.format(c.totalHt);
      id('sum-tva').textContent    = â‚¬.format(c.tva);
      id('sum-ttc').textContent    = â‚¬.format(c.ttc);
      id('sum-deposit').textContent= â‚¬.format(c.deposit);
    }

    function updateContract(c){
      const fLabel = c.f ? ({hour:'Horaire',halfday:'Demi-journÃ©e (4h)',fullday:'JournÃ©e (8h)',week:'Semaine (40h)'}[c.f]) : 'â€”';
      id('c_sum-period').textContent  = (c.sd && c.ed) ? `${id('f-start-date').value} â†’ ${id('f-end-date').value} (arrivÃ©e ${c.st||'â€”'})` : 'â€”';
      id('c_sum-hpd').textContent     = c.hpd.toString().replace('.',',') + ' h';
      id('c_sum-formula').textContent = fLabel;
      id('c_sum-packs').textContent   = â‚¬.format(c.packsHt);
      id('c_sum-ht').textContent      = â‚¬.format(c.totalHt);
      id('c_sum-tva').textContent     = â‚¬.format(c.tva);
      id('c_sum-ttc').textContent     = â‚¬.format(c.ttc);
      id('c_sum-deposit').textContent = â‚¬.format(c.deposit);
    }

    function updateMailLink(c){
      const subject = encodeURIComponent(`Demande de location de fauteuil â€” ${id('f-name').value||''}`);
      const body = encodeURIComponent(
`Demande de location â€” PHENO&CO
Nom: ${id('f-name').value||'-'}
TÃ©lÃ©phone: ${id('f-phone').value||'-'}
PÃ©riode: du ${id('f-start-date').value||'-'} ${id('f-start-time').value||'-'} au ${id('f-end-date').value||'-'}
Heures/jour: ${c.hpd}
Formule: ${c.f ? ({hour:'Horaire',halfday:'Demi-journÃ©e',fullday:'JournÃ©e',week:'Semaine'}[c.f]) : '-'}
Packs HT: ${â‚¬.format(c.packsHt)}
Total HT: ${â‚¬.format(c.totalHt)}
TVA 20%: ${â‚¬.format(c.tva)}
Total TTC: ${â‚¬.format(c.ttc)}
Acompte 50%: ${â‚¬.format(c.deposit)}
Message: ${id('f-note').value||'-'}

CGV/Contrat: acceptÃ© si cochÃ©. Merci dâ€™envoyer le lien de paiement de lâ€™acompte 50%.`
      );
      id('emailLink').href = `mailto:${EMAIL}?subject=${subject}&body=${body}`;
    }

    function updateAll(){
      const c = compute();
      updateSummary(c);
      updateContract(c);
      updateMailLink(c);
    }

    // Init
    (function init(){
      // heures/jour et heures dâ€™arrivÃ©e prÃ©remplies dans initTimeSelectors()
      // formules affichÃ©es plus haut
      // packs injectÃ©s plus haut
      // calcul initial
      updateAll();
    })();

    /* ===== Soumission : WhatsApp + info email ===== */
    id('chairForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const c = compute();
      if(!(id('f-name').value.trim() && id('f-phone').value.trim() && id('f-start-date').value && id('f-end-date').value && id('f-start-time').value && id('f-hours-per-day').value && c.f)){
        alert('Merci de remplir identitÃ©, pÃ©riode, heures/jour et formule.');
        return;
      }
      if(!id('f-cgv').checked){
        alert('Merci de lire et dâ€™accepter les CGV & contrat.');
        return;
      }
      const fLabel = c.f ? ({hour:'Horaire',halfday:'Demi-journÃ©e (4h)',fullday:'JournÃ©e (8h)',week:'Semaine (40h)'}[c.f]) : '-';
      const msg =
`Demande de location de fauteuil â€” PHENO&CO
â€¢ Nom: ${id('f-name').value.trim()}
â€¢ TÃ©lÃ©phone: ${id('f-phone').value.trim()}
â€¢ PÃ©riode: ${id('f-start-date').value} â†’ ${id('f-end-date').value} (arrivÃ©e ${id('f-start-time').value})
â€¢ Heures/jour: ${c.hpd}
â€¢ Formule: ${fLabel}
â€¢ Base HT: ${â‚¬.format(c.baseHt)}
â€¢ Packs HT: ${â‚¬.format(c.packsHt)}
â€¢ Total HT: ${â‚¬.format(c.totalHt)}
â€¢ TVA: ${â‚¬.format(c.tva)}
â€¢ Total TTC: ${â‚¬.format(c.ttc)}
â€¢ Acompte 50%: ${â‚¬.format(c.deposit)}
â€¢ Message: ${(id('f-note').value||'-').trim()}

CGV/Contrat: acceptÃ© âœ…
Merci dâ€™envoyer le lien de paiement 50%.`;
      id('helper').style.display = 'block';
      window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(msg)}`,'_blank','noopener');
    });

    /* ===== CGV modal ===== */
    const modal = id('cgvModal');
    id('openCgv').addEventListener('click', (e)=>{ e.preventDefault(); updateAll(); modal.style.display='flex'; modal.setAttribute('aria-hidden','false'); });
    id('closeCgv').addEventListener('click', (e)=>{ e.preventDefault(); modal.style.display='none'; modal.setAttribute('aria-hidden','true'); });
  </script>
</body>
</html>
